Test case 1: echo -n hello > output.txt | grep hello && ls -l

token: 'echo', type: 0
token: '-n', type: 1
token: 'hello', type: 0
token: '>', type: 10
token: 'output.txt', type: 0
token: '|', type: 2
token: 'grep', type: 0
token: 'hello', type: 0
token: '&&', type: 4
token: 'ls', type: 0
token: '-l', type: 1


Test case 2: ls

token: 'ls', type: 0


Test case 3: cat < infile | sort > outfile

token: 'cat', type: 0
token: '<', type: 9
token: 'infile', type: 0
token: '|', type: 2
token: 'sort', type: 0
token: '>', type: 10
token: 'outfile', type: 0


Test case 4: echo "hello world" && echo '42'

token: 'echo', type: 0
token: '"hello world"', type: 12
token: '&&', type: 4
token: 'echo', type: 0
token: ''42'', type: 11


Test case 5: ls -l | grep '^d' > dirs.txt

token: 'ls', type: 0
token: '-l', type: 1
token: '|', type: 2
token: 'grep', type: 0
token: ''^d'', type: 11
token: '>', type: 10
token: 'dirs.txt', type: 0


Test case 6: echo foo\ bar

token: 'echo', type: 0
token: 'foo\', type: 0
token: 'bar', type: 0


Test case 7: echo "a | b && c"

token: 'echo', type: 0
token: '"a | b && c"', type: 12


Test case 8: echo 'single quoted > | && <'

token: 'echo', type: 0
token: ''single quoted > | && <'', type: 11


Test case 9: echo "nested 'quotes' and | pipes"

token: 'echo', type: 0
token: '"nested 'quotes' and | pipes"', type: 12


Test case 10: ls; pwd && whoami

token: 'ls', type: 0
token: ';', type: 6
token: 'pwd', type: 0
token: '&&', type: 4
token: 'whoami', type: 0


Test case 11: echo >file1 <file2

token: 'echo', type: 0
token: '>', type: 10
token: 'file1', type: 0
token: '<', type: 9
token: 'file2', type: 0


Test case 12: echo "unclosed quote

token: 'echo', type: 0
token: '"unclosed quote', type: 12


Test case 13: echo 'another unclosed

token: 'echo', type: 0
token: ''another unclosed', type: 11


Test case 14: echo "escaped \" quote"

token: 'echo', type: 0
token: '"escaped \"', type: 12
token: 'quote', type: 0
token: '"', type: 12


Test case 15: echo 'escaped \' quote'

token: 'echo', type: 0
token: ''escaped \'', type: 11
token: 'quote', type: 0
token: ''', type: 11


Test case 16: $(echo Hello; echo World)

token: '$', type: 5
token: '(', type: 13
token: 'echo', type: 0
token: 'Hello', type: 0
token: ';', type: 6
token: 'echo', type: 0
token: 'World', type: 0
token: ')', type: 14


